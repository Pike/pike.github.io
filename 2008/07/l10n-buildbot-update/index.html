<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>l10n buildbot update</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="/2008/07/l10n-buildbot-update" rel="canonical" />
  <!-- Feed -->

  <link href="/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="/theme/css/code_blocks/github.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->



    <meta name="description" content="I've updated the buildbot master and slaves running on the l10n server in the last few days. There have been a few reasons to do so: for...">

    <meta name="author" content="Axel Hecht">

    <meta name="tags" content="buildbot">
    <meta name="tags" content="L10n">




<!-- Open Graph -->
<meta property="og:site_name" content="Axel Hecht"/>
<meta property="og:title" content="l10n buildbot update"/>
<meta property="og:description" content="I've updated the buildbot master and slaves running on the l10n server in the last few days. There have been a few reasons to do so: for..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/2008/07/l10n-buildbot-update"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2008-07-24 15:31:00+00:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/axel-hecht.html">
<meta property="article:section" content="L10n"/>
<meta property="article:tag" content="buildbot"/>
<meta property="article:tag" content="L10n"/>
<meta property="og:image" content="/theme/images/post-bg.jpg">

<!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@axelhecht">
    <meta name="twitter:title" content="l10n buildbot update">
    <meta name="twitter:url" content="/2008/07/l10n-buildbot-update">

        <meta name="twitter:image:src" content="/theme/images/post-bg.jpg">

      <meta name="twitter:description" content="I've updated the buildbot master and slaves running on the l10n server in the last few days. There have been a few reasons to do so: for...">

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "l10n buildbot update",
  "headline": "l10n buildbot update",
  "datePublished": "2008-07-24 15:31:00+00:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Axel Hecht",
    "url": "/author/axel-hecht.html"
  },
  "image": "/theme/images/post-bg.jpg",
  "url": "/2008/07/l10n-buildbot-update",
  "description": "I've updated the buildbot master and slaves running on the l10n server in the last few days. There have been a few reasons to do so: for..."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>

                  <li class="nav-l10n active" role="presentation"><a href="/category/l10n.html">L10n</a></li>
                  <li role="presentation"><a href="/category/misc.html">Misc</a></li>
                  <li role="presentation"><a href="/category/mozilla.html">Mozilla</a></li>
                  <li role="presentation"><a href="/category/rdf.html">RDF</a></li>
                  <li role="presentation"><a href="/category/tech.html">Tech</a></li>

    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" >
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">l10n buildbot update</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="/author/axel-hecht.html">Axel Hecht</a>
            | <time datetime="Thu 24 July 2008">Thu 24 July 2008</time>
        </span>
        <!-- TODO : Modified check -->
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>I've updated the buildbot master and slaves running on the l10n server in the last few days.</p>
<p>There have been a few reasons to do so:</p>
<ul class="simple">
<li>for Firefox 3.1 localization, I will need an updated compare-locales</li>
<li>... and support on the dashboard</li>
<li>there's a new buildbot 0.7.8 around the corner</li>
<li>... which offers scheduler properties, which make l10n buildbots sooooo much nicer</li>
<li>and, hrm, I had bugs to fix in the history view</li>
</ul>
<p>For a while now it was obvious that the code running the buildbot on l10n.mozilla.org would be much nicer and easier to grok, if it used the new features upcoming in buildbot, namely, scheduler properties. I've been doing some weird hacks to get around the lack of those on buildbot 0.7.7, and nobody liked those, including me.</p>
<p>Luckily, it wasn't hard at all to drop all the weird code I used in favour of scheduler properties, for the most part, it was removing code. For the curious ones among you, have a look at the <a class="reference external" href="http://hg.mozilla.org/users/axel_mozilla.com/tooling/index.cgi/diff/27cafbe24f0d/mozilla/tools/buildbotcustom/buildbotcustom/l10n.py">crucial diff</a>.</p>
<p>The downside of that change is that I needed to update my custom code at a few places that used build properties in the 0.7.7 style. Once I learned the tricks, the patch was rather systematic, though, no real surprises. Again, <a class="reference external" href="http://hg.mozilla.org/users/axel_mozilla.com/tooling/index.cgi/rev/cb6f1833f935">there's a patch</a> in the original queue for curious folks.</p>
<p>I've followed the buildbot trunk darcs repository since the announcement of the imminent release last week on my local setup, and found a few issues. Which is cool, as those issues are fixed now, and I have a unpatched buildbot 0.7.8pre running on l10n.m.o. This is actually a real treat, as we (the release team as well as I) have been running slightly patched releases of buildbot to fix bustages in the past. And those bustage fixes tended to be slightly different upstream than in our repo, making upgrading to a new version of buildbot a pita.</p>
<p>On top of that work on the backbone, I've <a class="reference external" href="http://hg.mozilla.org/users/axel_mozilla.com/tooling/index.cgi/rev/348dbbaa1332">fixed a few timezone issues</a> all around, which most apparently broke the statistics pages. They're linked to from the <a class="reference external" href="http://l10n.mozilla.org/dashboard/">dashboard</a> as history (H). Those most apparently showed when trying to click on the bonsai links. There are blue vertical marker lines for l10n check-ins, and if you click on those, a lens opens with the commiter, the files and the check-in comment. The commiter email is actually a link to bonsai-l10n. UE guidance welcome.</p>
<p>While I was at it, I fixed both the start and end times of the timelines, as well as their display. Now they're actually piecewise constant, as they should be. Ok, they're not. They're still P1, because timline likes that, but they look really close to P0.</p>
<p>Part of the preparations for fx3.1 was the renaming of &quot;trunk&quot; into &quot;fx30x&quot;. That should not only enable us to have fx3.1 on the dashboard, but other projects, too. Those required some changes to the existing data archive, in particular the database that I have locally. Those changes weren't too bad, though.</p>
<p>Known regressions:</p>
<ul class="simple">
<li>I check out from scratch now on each build. Should be less of an issue on hg. And CVS is stable, and I only check out the locale that I build. Thus resolved WHATEVER.</li>
<li>If anybody has links referring to &quot;trunk&quot;, those are broken now. &quot;fx30x&quot; is the new name for &quot;trunk&quot;.</li>
<li>If you find more, <a class="reference external" href="https://bugzilla.mozilla.org/enter_bug.cgi?product=Mozilla%20Localizations&amp;component=Infrastructure">file a bug</a>, comment, or drop me a mail.</li>
</ul>

            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=l10n buildbot update&amp;url=/2008/07/l10n-buildbot-update" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=/2008/07/l10n-buildbot-update" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=/2008/07/l10n-buildbot-update" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="/tag/buildbot.html">buildbot</a><a href="/tag/l10n.html">L10n</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script type="text/javascript" src="/theme/js/script.js"></script>

</body>
</html>