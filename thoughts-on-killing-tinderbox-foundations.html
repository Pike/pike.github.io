<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />


  <title>Thoughts on killing tinderbox, foundations</title>


  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="referrer" content="origin" />
  <meta name="generator" content="Pelican" />
<link href="/thoughts-on-killing-tinderbox-foundations.html" rel="canonical" />
  <!-- Feed -->

  <link href="/theme/css/style.css" type="text/css" rel="stylesheet" />

  <!-- Code highlight color scheme -->
      <link href="/theme/css/code_blocks/github.css" rel="stylesheet">


  <!-- Custom fonts -->
  <link href='https://fonts.googleapis.com/css?family=Montserrat:400,300' rel='stylesheet' type='text/css' />
  <link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css" />

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->



    <meta name="description" content="I figured it'd be a good idea to just dump my thinkings on killing tinderbox (as in the the web interface to mozilla's builds). As just...">

    <meta name="author" content="Axel Hecht">

    <meta name="tags" content="buildbot">
    <meta name="tags" content="Mozilla">




<!-- Open Graph -->
<meta property="og:site_name" content="Axel Hecht"/>
<meta property="og:title" content="Thoughts on killing tinderbox, foundations"/>
<meta property="og:description" content="I figured it'd be a good idea to just dump my thinkings on killing tinderbox (as in the the web interface to mozilla's builds). As just..."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="/thoughts-on-killing-tinderbox-foundations.html"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2009-05-10 21:45:00+00:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="/author/axel-hecht.html">
<meta property="article:section" content="Mozilla"/>
<meta property="article:tag" content="buildbot"/>
<meta property="article:tag" content="Mozilla"/>
<meta property="og:image" content="/theme/images/post-bg.jpg">

<!-- Twitter Card -->

<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "name": "Thoughts on killing tinderbox, foundations",
  "headline": "Thoughts on killing tinderbox, foundations",
  "datePublished": "2009-05-10 21:45:00+00:00",
  "dateModified": "",
  "author": {
    "@type": "Person",
    "name": "Axel Hecht",
    "url": "/author/axel-hecht.html"
  },
  "image": "/theme/images/post-bg.jpg",
  "url": "/thoughts-on-killing-tinderbox-foundations.html",
  "description": "I figured it'd be a good idea to just dump my thinkings on killing tinderbox (as in the the web interface to mozilla's builds). As just..."
}
</script>
</head>
<!-- TODO : Body class -->
<body class="home-template">

<nav id="menu">
  <a class="close-button">Close</a>
  <div class="nav-wrapper">
    <p class="nav-label">Menu</p>
    <ul>


    </ul>
  </div>
</nav>
    <!-- Progressbar -->
    <div class="progress-container">
        <span class="progress-bar"></span>
    </div>

    <!-- Page Header -->
    <!-- Set your background image for this header on the line below. -->
    <header id="post-header" >
      <div class="inner">
        <nav id="navigation">
            <span id="home-button" class="nav-button">
                <a class="home-button" href="/" title="Home"><i class="ic ic-arrow-left"></i> Home</a>
            </span>
          <span id="menu-button" class="nav-button">
            <a class="menu-button"><i class="ic ic-menu"></i> Menu</a>
          </span>
        </nav>
        <h1 class="post-title">Thoughts on killing tinderbox, foundations</h1>
        <!-- TODO : Proper class for headline -->
        <span class="post-meta">
                <a href="/author/axel-hecht.html">Axel Hecht</a>
            | <time datetime="Sun 10 May 2009">Sun 10 May 2009</time>
        </span>
        <!-- TODO : Modified check -->
      </div>
    </header>

  <section id="wrapper">
    <a class="hidden-close"></a>

    <!-- Post content -->
    <main class="content" role="main">
        <article class="post">
        <div class="inner">
            <section class="post-content">
                <p>I figured it'd be a good idea to just dump my thinkings on killing tinderbox (as in the the web interface to mozilla's builds). As just the background information grows to a lengthy post, I'll cut them into pieces.</p>
<p>To point you where I'm heading, the executive summary of my thinking is:</p>
<p><em>Killing tinderbox is a webdev problem for the most part, with some chunks in IT and build/releng. The latter two should be fine to mostly do what webdev needs to get the job done.</em></p>
<p>I won't give my complete rationale for killing tinderbox, for the most part because I've been thinking about that too long and have come up with too many reasons to write them down. But the most important fragments would be in ...</p>
<div class="section" id="the-rationale">
<h2>The Rationale:</h2>
<p>Tinderbox knows relatively little about our builds, and displays even less. The front end is hard to hack, and the back end is tied to a build model that doesn't match that of buildbot. In particular in our move to hg, things have changed considerably in the back.</p>
<p>Listening in to previous discussions, there seems to be a gap between how people talk about our builds, and what our builds really are. Thus I'll bore the few people that actually hack on our build automation for a few, and dive into ...</p>
</div>
<div class="section" id="what-buildbot-knows">
<h2>What buildbot knows:</h2>
<p>Buildbot, aka the software we're using to control and run our builds, knows plenty about our builds. I'll give a list of things that come up to my mind, with a focus on things that tinderbox wouldn't.</p>
<ul class="simple">
<li>Why a build is running.<ul>
<li>Which changes went into this build, or if it was a periodic or forced build</li>
</ul>
</li>
<li>The steps of each build, with separate description, results, logs<ul>
<li>Logs have separate stdout and stderr chunks in order</li>
</ul>
</li>
<li>A set of build properties, holding slave name, build number, revision<ul>
<li>The set of build properties can be amended, to hold more data. The data can be basically anything that can be pickled in python, and could be constrained to json values, or just natives thereof.</li>
</ul>
</li>
<li>Start and end times for both the individual steps and the complete build</li>
</ul>
<p>There are some shortages in particular when it comes down to our build setup, mostly ...</p>
</div>
<div class="section" id="what-even-buildbot-doesn-t-know">
<h2>What even buildbot doesn't know:</h2>
<ul class="simple">
<li>Dependencies between builds. Buildbot has two builtin methods to run builds that depend on prior builds, but it doesn't keep track of that relationship.</li>
</ul>
<p>For those into schema, one possible version of that is <a class="reference external" href="images/2009/05/mbdb.png">depicted in this graph</a>.</p>
<p>Then, there are things we keep ...</p>
</div>
<div class="section" id="on-tinderbox-but-not-on-buildbot">
<h2>On tinderbox, but not on buildbot:</h2>
<ul class="simple">
<li>Tree rules<ul>
<li>open/closed (used to be on despot for cvs/bonsai)</li>
<li>sheriff</li>
</ul>
</li>
<li>Build comments</li>
<li>log parsers</li>
</ul>
<p>So much for the read-only side of life. On top of this, there are a few important things that buildbot enables us to do, which we don't empower our community to use (at least not without a releng-sheriff around).</p>
</div>
<div class="section" id="buildbot-can">
<h2>Buildbot can:</h2>
<ul class="simple">
<li>Trigger builds on arbitrary builders, possibly with particular properties set (the latter requires hackery).</li>
<li>Stop most builds while running.</li>
</ul>
<p>Exposing these should provide a powerful tool to investigate and clear bustages.</p>
<p>You can get a slightly better idea of how things are looking on buildbot itself if you browse around on <a class="reference external" href="http://build.chromium.org/buildbot/waterfall/waterfall">Chromium's waterfall</a>. IMHO, they share the problem of not being able to present the data they have, even though they have less platforms and trees to handle than we do. You can also see the problem of dependent test builds hanging somewhere in the air. You can also nicely see the output per step with the details they have, unconditionally though. Most of the time, you likely don't care.</p>
<p>Going forward, I'll try to wrap my head around which problems our web frontend to our builds actually needs to solve, and which routes I see to getting there.</p>
</div>

            </section>

            <section class="post-info">
                <div class="post-share">
                    <a class="twitter" href="https://twitter.com/share?text=Thoughts on killing tinderbox, foundations&amp;url=/thoughts-on-killing-tinderbox-foundations.html" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="ic ic-twitter"></i><span class="hidden">Twitter</span>
                    </a>
                    <a class="facebook" href="https://www.facebook.com/sharer/sharer.php?u=/thoughts-on-killing-tinderbox-foundations.html" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <i class="ic ic-facebook"></i><span class="hidden">Facebook</span>
                    </a>
                    <a class="googleplus" href="https://plus.google.com/share?url=/thoughts-on-killing-tinderbox-foundations.html" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <i class="ic ic-googleplus"></i><span class="hidden">Google+</span>
                    </a>
                    <div class="clear"></div>
                </div>

                <aside class="post-tags">
<a href="/tag/buildbot.html">buildbot</a><a href="/tag/mozilla.html">Mozilla</a>                </aside>

                <div class="clear"></div>


                </section>


                <aside class="post-nav">
                    <div class="clear"></div>
                </aside>

            </div>
        </article>
    </main>
      <!-- TODO : Body class -->
    <div id="body-class" style="display: none;" class=""></div>

    <footer id="footer">
      <div class="inner">
        <section class="credits">


          <span class="credits-theme">Theme <a href="https://github.com/arulrajnet/attila" rel="nofollow">Attila</a></span>
          <span class="credits-software">Published with <a href="https://github.com/getpelican/pelican" rel="nofollow">Pelican</a></span>
        </section>
      </div>
    </footer>
  </section>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script type="text/javascript" src="/theme/js/script.js"></script>

</body>
</html>